<%= form_with(model: [:admin, @badge], local: true) do |form| %>
  <%= render 'shared/validation_errors', resource: @badge %>
  <div class='form-group'>
    <%= form.label :caption %>
    <%= form.text_field :caption, id: :badge_caption, class: 'form-control' %>
  </div>
  <div class='form-group'>
    <%= form.label :rule_name %>
    <div><b><%= @badge.rule[:title] %></b></div>
    <%= form.hidden_field :rule_name %>
  </div>
  <div class='form-group'>
    <%= form.label :image %>
    <%= form.select :image, Badge.images, {}, { class: 'form-control custom-select custom-select-lg' } %>
  </div>
  <% if @badge.has_category? %>
    <div class='form-group'>
      <%= form.label :category %>
      <%= form.collection_select :category_id, Category.all, :id, :title, {prompt: true}, {class: 'form-control'} %>
    </div>
  <% end %>
  <% if @badge.has_test? %>
    <div class='form-group'>
      <%= form.label :test %>
      <%= form.collection_select :test_id, Test.all, :id, :title, {prompt: true}, {class: 'form-control'} %>
    </div>
  <% end %>
  <% if @badge.has_level? %>
    <div class='form-group'>
      <%= form.label :level %>
      <%= form.text_field :level, id: :badge_level, class: 'form-control' %>
    </div>
  <% end %>
  <%= form.submit class: 'btn btn-primary btn-block' %>
<% end %>
